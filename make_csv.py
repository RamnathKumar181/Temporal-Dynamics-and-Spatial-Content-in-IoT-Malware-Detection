import os
import csv
import sys
import numpy as np

path = "IoT_Malware"
path_files = os.listdir(path)
maxlen=489017
for file in path_files:
    file_path=path + "/" + file
    print(file_path)
    data=[]
    if os.path.lexists(file_path) and not os.path.isdir(file_path):
        with open(file_path, "rb") as f:
            # print(file)
            byte_list=[]
            byte = f.read(1)
            while byte != b"":
                byte_list.append(int.from_bytes(byte, byteorder=sys.byteorder))
                byte = f.read(1)
            if(len(byte_list)>maxlen):
                maxlen = len(byte_list)
                # byte_list = np.pad(byte_list,(0,maxlen-len(byte_list)),'constant', constant_values =0)
                # data.append([np.array(byte_list),np.array(0)])
                # file_path= "DATA" + '/' + file +'.npy'
                # np.save(file_path,data)

print(maxlen)
# path = "Benign_binaries"
# path_files = os.listdir(path)
#
# for file in path_files:
#     file_path=path + "/" + file
#     print(file_path)
#     if os.path.lexists(file_path) and not os.path.isdir(file_path):
#         with open(file_path, "rb") as f:
#             # print(file)
#             byte_list=[]
#             byte = f.read(1)
#             while byte != b"":
#                 byte_list.append(int.from_bytes(byte, byteorder=sys.byteorder))
#                 byte = f.read(1)
#             if(len(byte_list)<maxlen):
#                 byte_list = np.pad(byte_list,(0,maxlen-len(byte_list)),'constant', constant_values =-1)
#                 data.append([np.array(byte_list),np.array(0)])



# import csv
# import numpy as np
# import matplotlib.pyplot as plt
# import pandas as pd
#
# dataset = pd.read_csv('iot_benign_Ram.csv')
# X = dataset.iloc[:, :].values
#
# print(X[0])
# # with open('iot_malware_csv.csv','r') as csvFile:
# #     reader = csv.reader(csvFile)
# #     for row in reader:
# #         row = np.pad(row,(0,max-len(row)),'constant', constant_values =(-1))
# #         new_data.append([row,0])
# # csvFile.close()
#
# df = pd.DataFrame(data=new_data)
# df.to_csv("RealDataMedian.csv", index = None, header = False)
